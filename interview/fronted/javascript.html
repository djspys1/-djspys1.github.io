<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | 个人文档</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="小鹏个人文档">
    <meta name="keywords" content="小鹏,blog,djspys,bbr,chrome,firewall,前端面试,table,html,vue,css,php,xampp,redis">
    <link rel="preload" href="/assets/css/0.styles.4a3e1b49.css" as="style"><link rel="preload" href="/assets/js/app.c6b1cc19.js" as="script"><link rel="preload" href="/assets/js/2.6601f5ed.js" as="script"><link rel="preload" href="/assets/js/10.20b79bb5.js" as="script"><link rel="prefetch" href="/assets/js/11.26d0d302.js"><link rel="prefetch" href="/assets/js/12.f5255ec0.js"><link rel="prefetch" href="/assets/js/13.f512610d.js"><link rel="prefetch" href="/assets/js/14.51a90532.js"><link rel="prefetch" href="/assets/js/15.8b5c556e.js"><link rel="prefetch" href="/assets/js/16.54c39e8c.js"><link rel="prefetch" href="/assets/js/17.d9e7f651.js"><link rel="prefetch" href="/assets/js/18.160532be.js"><link rel="prefetch" href="/assets/js/19.cd5f0081.js"><link rel="prefetch" href="/assets/js/20.d62776c2.js"><link rel="prefetch" href="/assets/js/21.a639e316.js"><link rel="prefetch" href="/assets/js/22.449d3446.js"><link rel="prefetch" href="/assets/js/23.86927b1c.js"><link rel="prefetch" href="/assets/js/3.5cc68ab4.js"><link rel="prefetch" href="/assets/js/4.f15acc75.js"><link rel="prefetch" href="/assets/js/5.71a9b689.js"><link rel="prefetch" href="/assets/js/6.862a2a88.js"><link rel="prefetch" href="/assets/js/7.e0c55023.js"><link rel="prefetch" href="/assets/js/8.4ef47606.js"><link rel="prefetch" href="/assets/js/9.98d476fd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4a3e1b49.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/fronted/javascript.html" class="nav-link router-link-exact-active router-link-active">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/interview/backend/php.html" class="nav-link">
  后端
</a></li></ul></div></div><div class="nav-item"><a href="/knowledge/table.html" class="nav-link">
  小技巧
</a></div><div class="nav-item"><a href="/server/bbr.html" class="nav-link">
  服务器
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/fronted/javascript.html" class="nav-link router-link-exact-active router-link-active">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/interview/backend/php.html" class="nav-link">
  后端
</a></li></ul></div></div><div class="nav-item"><a href="/knowledge/table.html" class="nav-link">
  小技巧
</a></div><div class="nav-item"><a href="/server/bbr.html" class="nav-link">
  服务器
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/interview/fronted/javascript.html" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#原型链" class="sidebar-link">原型链</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#js模块化-amd-cmd的区别" class="sidebar-link">JS模块化/AMD CMD的区别</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#闭包的场景" class="sidebar-link">闭包的场景</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#跨域怎么做？jsonp的风险？xss攻击怎么防御？xss的原理" class="sidebar-link">跨域怎么做？jsonp的风险？xss攻击怎么防御？xss的原理</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#打包工具用过吗？" class="sidebar-link">打包工具用过吗？</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#前端项目部署：手动部署-vs-ci-cd" class="sidebar-link">前端项目部署：手动部署 vs CI/CD</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#前端项目部署有没有考虑cdn" class="sidebar-link">前端项目部署有没有考虑CDN</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#vue的实现原理" class="sidebar-link">Vue的实现原理</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#vue-router的原理，两种模式的区别" class="sidebar-link">Vue-router的原理，两种模式的区别</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#小程序技术选型：-mpvue-taro-uni-app" class="sidebar-link">小程序技术选型： mpvue/taro/uni-app</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#手写ajax和jsonp" class="sidebar-link">手写ajax和jsonp</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#手写promise" class="sidebar-link">手写promise</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#防抖函数（debounce）" class="sidebar-link">防抖函数（debounce）</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#节流函数（throttle）" class="sidebar-link">节流函数（throttle）</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#深克隆（deepclone）" class="sidebar-link">深克隆（deepclone）</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现instanceof" class="sidebar-link">实现instanceOf</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#模拟new" class="sidebar-link">模拟new</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现一个call" class="sidebar-link">实现一个call</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现一个apply" class="sidebar-link">实现一个apply</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现一个bind" class="sidebar-link">实现一个bind</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#模拟object-create" class="sidebar-link">模拟Object.create</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现json-parse" class="sidebar-link">实现JSON.parse</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#扁平化数组-flat" class="sidebar-link">扁平化数组/flat</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#格式化数字，千分位分隔" class="sidebar-link">格式化数字，千分位分隔</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#回文判断" class="sidebar-link">回文判断</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#发布订阅模式" class="sidebar-link">发布订阅模式</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#去重" class="sidebar-link">去重</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现一个vue双向绑定" class="sidebar-link">实现一个Vue双向绑定</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现一个js函数柯里化" class="sidebar-link">实现一个JS函数柯里化</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现数组解构destructuringarray方法" class="sidebar-link">实现数组解构destructuringArray方法</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#实现sleep" class="sidebar-link">实现sleep</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#同时加载十万个元素" class="sidebar-link">同时加载十万个元素</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#冒泡排序" class="sidebar-link">冒泡排序</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#选择排序" class="sidebar-link">选择排序</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#插入排序" class="sidebar-link">插入排序</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#快速排序" class="sidebar-link">快速排序</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#爬楼梯问题-斐波纳契数列" class="sidebar-link">爬楼梯问题/斐波纳契数列</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#二分法" class="sidebar-link">二分法</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#事件循环" class="sidebar-link">事件循环</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#变量提升" class="sidebar-link">变量提升</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#this指向" class="sidebar-link">this指向</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#正则" class="sidebar-link">正则</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#数据类型及判断" class="sidebar-link">数据类型及判断</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#vue-router的原理，两种模式的区别，history模式如何在服务端做额外配置" class="sidebar-link">Vue-router的原理，两种模式的区别，history模式如何在服务端做额外配置</a></li><li class="sidebar-sub-header"><a href="/interview/fronted/javascript.html#vue框架开发的优势" class="sidebar-link">Vue框架开发的优势</a></li></ul></li><li><a href="/interview/fronted/css.html" class="sidebar-link">flex布局</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <h2 id="原型链"><a href="#原型链" class="header-anchor">#</a> 原型链</h2> <h3 id="基础概念"><a href="#基础概念" class="header-anchor">#</a> 基础概念</h3> <ul><li>prototype
每一个<strong>函数</strong>都有一个<code>prototype</code>属性，这个属性指向函数的原型对象。</li> <li>__proto__
每个<strong>对象</strong>(除null外)会有<code>__proto__</code>属性，这个属性会指向它的构造函数的原型对象</li> <li>constructor
<ul><li>每个<strong>原型</strong>都有一个<code>constructor</code>属性，指向该关联的构造函数。</li> <li>通过构造函数生成的实例，也会继承这个属性，而通过这个属性，可以知道实例是由哪一个构造函数生成的，我们也可以通过<code>实例.constructor</code>间接调用构造函数</li> <li>在修改原型对象后，一般要设置下<code>constructor</code>，防止出错</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person <span class="token comment">// true</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">method</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 修改后constructor不再执行构造函数</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person <span class="token comment">// false</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object <span class="token comment">// true</span>
</code></pre></div><h3 id="何为原型链"><a href="#何为原型链" class="header-anchor">#</a> 何为原型链</h3> <p>既然每个对象都有<code>__proto__</code>属性,那么函数的<code>prototype</code>所指向的原型对象也会有<code>__proto__</code>属性，而这样一级一级的指向直到null，就构成了所谓的原型链。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 构造函数</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 实例对象的原型指向了它的构造函数的原型对象（prototype）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 构造函数原型对象的原型指向了Object原型对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// Object原型对象的原型指向了null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 所谓的原型链，就如上面三个，最终的指向都是null</span>


console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">==</span> Person<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h2> <h3 id="原型链继承"><a href="#原型链继承" class="header-anchor">#</a> 原型链继承</h3> <p>当尝试访问一个对象的属性时，它不仅会在该对象上搜索，还会搜索该对象的原型，以及该对象的原型的原型，直到找到该属性或查到原型链的顶端。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'cat'</span>
<span class="token comment">// B继承A</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// cat</span>
</code></pre></div><p>缺点也显而易见</p> <ul><li>子类的所有的实例共享父类的属性，修改了父类上的属性，所有实例的值也会跟着改变</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'dog'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// dog</span>
</code></pre></div><h3 id="构造函数继承"><a href="#构造函数继承" class="header-anchor">#</a> 构造函数继承</h3> <h2 id="js模块化-amd-cmd的区别"><a href="#js模块化-amd-cmd的区别" class="header-anchor">#</a> JS模块化/AMD CMD的区别</h2> <h2 id="闭包的场景"><a href="#闭包的场景" class="header-anchor">#</a> 闭包的场景</h2> <h2 id="跨域怎么做？jsonp的风险？xss攻击怎么防御？xss的原理"><a href="#跨域怎么做？jsonp的风险？xss攻击怎么防御？xss的原理" class="header-anchor">#</a> 跨域怎么做？jsonp的风险？xss攻击怎么防御？xss的原理</h2> <h3 id="什么是跨域"><a href="#什么是跨域" class="header-anchor">#</a> 什么是跨域</h3> <p>由浏览器的同源策略引起的跨域问题。所谓同源是指&quot;协议+域名+端口&quot;三者相同，即便两个不同的域名指向同一个ip地址，也非同源。
同源策略一般限制一下行为</p> <div class="language-html extra-class"><pre class="language-html"><code>Cookie、LocalStorage 和 IndexDB 无法读取
DOM 和 Js对象无法获得
AJAX 请求不能发送
</code></pre></div><h3 id="跨域方法"><a href="#跨域方法" class="header-anchor">#</a> 跨域方法</h3> <ul><li>jsonp</li> <li>document.domain + iframe跨域</li> <li>location.hash + iframe</li> <li>window.name + iframe跨域</li> <li>postMessage跨域</li> <li>跨域资源共享（CORS）</li> <li>服务器反向代理
<ul><li>nginx代理跨域</li> <li>apche代理跨域</li> <li>node代理跨域</li></ul></li> <li>WebSocket协议跨域</li></ul> <h3 id="jsonp"><a href="#jsonp" class="header-anchor">#</a> jsonp</h3> <p>虽然浏览器有同源策略，但是它并不禁止某些特定的标签去加载不同域下的资源，因此可以通过这个方法去实现跨域。
一般，我们可以动态的创建script标签，再去请求一个带参网址来实现跨域通信</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://www.example.com?username=Nealyang&amp;callback=callback'</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在jQuery中，我们可以直接通过ajax实现</p> <div class="language-js extra-class"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span><span class="token string">'http://www.example.com'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span><span class="token string">'GET'</span><span class="token punctuation">,</span>
    dataType<span class="token operator">:</span><span class="token string">'jsonp'</span><span class="token punctuation">,</span>
    jsonpCallback<span class="token operator">:</span><span class="token string">'callback'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>它的原理也让它只能实现get请求</p> <h3 id="document-domain-iframe跨域"><a href="#document-domain-iframe跨域" class="header-anchor">#</a> document.domain + iframe跨域</h3> <p>这个方法要求他们的主域名相同，类似<code>a.exmaple.com</code>和<code>b.example.com</code>。<br>
实现方法就是把两个网站的<code>document.domain</code>设置为<code>example.com</code></p> <h3 id="postmessage"><a href="#postmessage" class="header-anchor">#</a> postMessage</h3> <p>window.postMessage() 方法可以安全地实现跨源通信。<br>
如果不想发给别人或者，这设定好<code>targetOrigin</code><br>
如果不想接受其他人的信息，则在监听<code>message</code>时间时，使用<code>origin</code>和<code>source</code>属性验证发件人的身份</p> <h3 id="cors（主流）"><a href="#cors（主流）" class="header-anchor">#</a> cors（主流）</h3> <p>服务端设置<code>Access-Control-Allow-Origin</code>即可。
如需传递cookie，后台需要设置<code>Access-Control-Allow-Credentials</code>为<code>true</code>,前端要在<code>ajax</code>中打开<code>withCredentials</code>,
如果要带cookie请求，那么<code>Access-Control-Allow-Origin</code>就不能设为<code>*</code>,因为cookie还是要遵循同源策略。<br>
cors分为简单请求和非简单请求，非简单请求会在正式请求前增加一次OPTIONS请求用于预检</p> <h3 id="服务器端反向代理"><a href="#服务器端反向代理" class="header-anchor">#</a> 服务器端反向代理</h3> <p>主要配置apache\node\nginx的反向代理，因为同源策略是浏览器的，服务器不受限制，可以将服务器作为跳板实现跨域</p> <h3 id="websocket"><a href="#websocket" class="header-anchor">#</a> websocket</h3> <p>比较新的、潮流的方式，能够真正实现客户端与服务器的双向实时通信，也允许跨域通信</p> <h3 id="location-hash-iframe-（没实际用过）"><a href="#location-hash-iframe-（没实际用过）" class="header-anchor">#</a> location.hash + iframe （没实际用过）</h3> <p>原理就是通过锚点和iframe实现传值，大概做法就是，a域名下的a页面放一个隐藏的iframe，src指向b域名下的b页面，b页面也有一个隐藏的iframe指向a域下的c页面，
b页面监听hash改变后，修改b页面的iframe的src，c页面在监听到变化后，就可以操作a页面的回调了（a页面与c页面在一个域下）</p> <p>主要通过定时器来监听hash变化</p> <h3 id="window-name-iframe跨域-（没实际用过）"><a href="#window-name-iframe跨域-（没实际用过）" class="header-anchor">#</a> window.name + iframe跨域 （没实际用过）</h3> <p><code>window.name</code>有个特性就是，无论url怎么变，<code>window.name</code>是不变的，因此实现方式就比较简单了。<br>
a域下的a页面加载一个iframe,src指向b域名下的b页面，b页面设置<code>window.name</code>。此时由于同源策略，a并不能直接获取<code>window.name</code>，但是我们可以在a页面加载完iframe后，通过<code>iframe.contentWindow.location</code>将src改为a域名下的某个页面，这样iframe就和a页面是同源的了，通过<code>iframe.contentWindow.name</code>获取b页面的值</p> <h2 id="打包工具用过吗？"><a href="#打包工具用过吗？" class="header-anchor">#</a> 打包工具用过吗？</h2> <h2 id="前端项目部署：手动部署-vs-ci-cd"><a href="#前端项目部署：手动部署-vs-ci-cd" class="header-anchor">#</a> 前端项目部署：手动部署 vs CI/CD</h2> <h2 id="前端项目部署有没有考虑cdn"><a href="#前端项目部署有没有考虑cdn" class="header-anchor">#</a> 前端项目部署有没有考虑CDN</h2> <h2 id="vue的实现原理"><a href="#vue的实现原理" class="header-anchor">#</a> Vue的实现原理</h2> <h2 id="vue-router的原理，两种模式的区别"><a href="#vue-router的原理，两种模式的区别" class="header-anchor">#</a> Vue-router的原理，两种模式的区别</h2> <h2 id="小程序技术选型：-mpvue-taro-uni-app"><a href="#小程序技术选型：-mpvue-taro-uni-app" class="header-anchor">#</a> 小程序技术选型： mpvue/taro/uni-app</h2> <p>只用过原生开发，港真，原生小程序挺够用，虽然常常会有一些神奇的bug</p> <h2 id="手写ajax和jsonp"><a href="#手写ajax和jsonp" class="header-anchor">#</a> 手写ajax和jsonp</h2> <h2 id="手写promise"><a href="#手写promise" class="header-anchor">#</a> 手写promise</h2> <h2 id="防抖函数（debounce）"><a href="#防抖函数（debounce）" class="header-anchor">#</a> 防抖函数（debounce）</h2> <h2 id="节流函数（throttle）"><a href="#节流函数（throttle）" class="header-anchor">#</a> 节流函数（throttle）</h2> <h2 id="深克隆（deepclone）"><a href="#深克隆（deepclone）" class="header-anchor">#</a> 深克隆（deepclone）</h2> <h2 id="实现instanceof"><a href="#实现instanceof" class="header-anchor">#</a> 实现instanceOf</h2> <h2 id="模拟new"><a href="#模拟new" class="header-anchor">#</a> 模拟new</h2> <h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <ul><li>创建一个空对象</li> <li>将空对象原型链 <code>__proto__</code> 指向构造函数的原型 <code>prototype</code></li> <li>将这个空对象赋值给函数内部的this关键字</li> <li>执行构造函数内部代码，并返回该对象</li></ul> <h3 id="模拟实现"><a href="#模拟实现" class="header-anchor">#</a> 模拟实现</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">_new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建一个空的对象</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 获得构造函数</span>
    <span class="token keyword">let</span> Con <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
    <span class="token comment">// 链接到原型</span>
    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Con</span><span class="token punctuation">.</span>prototype
    <span class="token comment">// 绑定 this，执行构造函数</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">Con</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
    <span class="token comment">// 确保 new 出来的是个对象</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> result <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj
<span class="token punctuation">}</span>
</code></pre></div><h2 id="实现一个call"><a href="#实现一个call" class="header-anchor">#</a> 实现一个call</h2> <h3 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h3> <p>该方法主要用于改变this指向</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 默认指向全局</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> window <span class="token comment">// true</span>
<span class="token comment">// 通过call将f下的this指向变为obj</span>
<span class="token function">f</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> obj <span class="token comment">// true</span>
</code></pre></div><p>非严格模式下，call参数如果为空、null和undefined，则默认传入全局对象;如果参数是一个非对象，会自动转换为对应的包装对象。
 
该方法可以接受多个参数。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisValue<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre></div><p>第一个参数为this指向的对象，后面的参数表示函数需要的参数</p> <h3 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h3> <p>首先需要了解一点this的指向</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'cat'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">def</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">def</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ‘cat', this指向obj</span>
</code></pre></div><p>调用对象中的方法，其this指向的是该对象，利用该原理：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">call</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> context <span class="token operator">||</span> window
    cxt<span class="token punctuation">.</span>func <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// this指向的是调用它的函数</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> args<span class="token punctuation">.</span>length <span class="token operator">?</span> cxt<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> cxt<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">delete</span> cxt<span class="token punctuation">.</span>func
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre></div><p>缺点就是如果传进来的对象是通过Object.freeze()创建的，就无法使用了</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> context <span class="token operator">||</span> window
    <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>cxt<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="实现一个apply"><a href="#实现一个apply" class="header-anchor">#</a> 实现一个apply</h2> <h3 id="定义-2"><a href="#定义-2" class="header-anchor">#</a> 定义</h3> <p>和call一样，唯一的差别就是接受的第二个参数是一个数组，而call是一个参数列表</p> <h3 id="实现-2"><a href="#实现-2" class="header-anchor">#</a> 实现</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">apply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> context <span class="token operator">||</span> window
    cxt<span class="token punctuation">.</span>func <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> args<span class="token punctuation">.</span>length <span class="token operator">?</span> cxt<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> cxt<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">delete</span> cxt<span class="token punctuation">.</span>func
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre></div><h2 id="实现一个bind"><a href="#实现一个bind" class="header-anchor">#</a> 实现一个bind</h2> <h3 id="定义-3"><a href="#定义-3" class="header-anchor">#</a> 定义</h3> <p>bind的实现和call很相似，但是bind可以将参数分批次传入，并且返回的是一个函数</p> <h3 id="实现-3"><a href="#实现-3" class="header-anchor">#</a> 实现</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">let</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// bind时传递的参数</span>
    <span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">const</span> funArg <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span> <span class="token comment">// bind后返回函数传递的参数</span>
      args <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> funArg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 合并参数</span>
      <span class="token function">_this</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">_this</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    fn<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prototype
    <span class="token keyword">return</span> fn
<span class="token punctuation">}</span>
</code></pre></div><h2 id="模拟object-create"><a href="#模拟object-create" class="header-anchor">#</a> 模拟Object.create</h2> <h2 id="实现json-parse"><a href="#实现json-parse" class="header-anchor">#</a> 实现JSON.parse</h2> <h2 id="扁平化数组-flat"><a href="#扁平化数组-flat" class="header-anchor">#</a> 扁平化数组/flat</h2> <h2 id="格式化数字，千分位分隔"><a href="#格式化数字，千分位分隔" class="header-anchor">#</a> 格式化数字，千分位分隔</h2> <h2 id="回文判断"><a href="#回文判断" class="header-anchor">#</a> 回文判断</h2> <h2 id="发布订阅模式"><a href="#发布订阅模式" class="header-anchor">#</a> 发布订阅模式</h2> <h2 id="去重"><a href="#去重" class="header-anchor">#</a> 去重</h2> <h2 id="实现一个vue双向绑定"><a href="#实现一个vue双向绑定" class="header-anchor">#</a> 实现一个Vue双向绑定</h2> <h2 id="实现一个js函数柯里化"><a href="#实现一个js函数柯里化" class="header-anchor">#</a> 实现一个JS函数柯里化</h2> <h2 id="实现数组解构destructuringarray方法"><a href="#实现数组解构destructuringarray方法" class="header-anchor">#</a> 实现数组解构destructuringArray方法</h2> <h2 id="实现sleep"><a href="#实现sleep" class="header-anchor">#</a> 实现sleep</h2> <h2 id="同时加载十万个元素"><a href="#同时加载十万个元素" class="header-anchor">#</a> 同时加载十万个元素</h2> <h2 id="冒泡排序"><a href="#冒泡排序" class="header-anchor">#</a> 冒泡排序</h2> <h2 id="选择排序"><a href="#选择排序" class="header-anchor">#</a> 选择排序</h2> <h2 id="插入排序"><a href="#插入排序" class="header-anchor">#</a> 插入排序</h2> <h2 id="快速排序"><a href="#快速排序" class="header-anchor">#</a> 快速排序</h2> <h2 id="爬楼梯问题-斐波纳契数列"><a href="#爬楼梯问题-斐波纳契数列" class="header-anchor">#</a> 爬楼梯问题/斐波纳契数列</h2> <h2 id="二分法"><a href="#二分法" class="header-anchor">#</a> 二分法</h2> <h2 id="事件循环"><a href="#事件循环" class="header-anchor">#</a> 事件循环</h2> <h2 id="变量提升"><a href="#变量提升" class="header-anchor">#</a> 变量提升</h2> <h2 id="this指向"><a href="#this指向" class="header-anchor">#</a> this指向</h2> <h3 id="定义-4"><a href="#定义-4" class="header-anchor">#</a> 定义</h3> <p>简单理解来说，this就是属性或方法“当前”所在的对象。<br>
通过举例来说</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'王五'</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'姓名：'</span><span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
  describe<span class="token operator">:</span> f
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span>
  describe<span class="token operator">:</span> f
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;姓名：王五&quot;（全局环境的this指向window）</span>
<span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;姓名：张三&quot;</span>
<span class="token constant">B</span><span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;姓名：李四&quot;</span>
<span class="token keyword">let</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">.</span>describe
<span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 王五</span>
</code></pre></div><h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <ul><li>全局环境的this,一般指向的是window</li> <li>构造函数的this,指向的是他的实例对象，所以this属性就是实例对象上的属性</li> <li>对象方法中的this,指向方法运行时所在的对象</li></ul> <h2 id="正则"><a href="#正则" class="header-anchor">#</a> 正则</h2> <h2 id="数据类型及判断"><a href="#数据类型及判断" class="header-anchor">#</a> 数据类型及判断</h2> <h3 id="基本数据类型"><a href="#基本数据类型" class="header-anchor">#</a> 基本数据类型</h3> <ul><li>String</li> <li>Number</li> <li>Boolean</li> <li>Null</li> <li>undefined</li> <li>Symbol</li> <li>BigInt</li> <li>Object</li></ul> <h3 id="判断"><a href="#判断" class="header-anchor">#</a> 判断</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bool <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'abc'</span>
<span class="token keyword">const</span> und <span class="token operator">=</span> <span class="token keyword">undefined</span>
<span class="token keyword">const</span> nul <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'haoxl'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am a function'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> big <span class="token operator">=</span> <span class="token number">10n</span>
</code></pre></div><ul><li>typeof</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> bool<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> und<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> nul<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> fun<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> big<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//bigint</span>
</code></pre></div><p>对于null、array、function无法进一步判断</p> <ul><li>instanceof
检测 <code>constructor.prototype</code> 是否存在于参数 <code>object</code> 的原型链,一般用于判断对象的类型</li> <li>constructor</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Number<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>constructor <span class="token operator">===</span> String<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Function<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>constructor <span class="token operator">===</span> BigInt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
</code></pre></div><p>无法判断null、undefined,并且contructor指向可以被告变</p> <ul><li>Object.prototype.toString.call（推荐）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Boolean]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Number]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object String]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>und<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nul<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Null]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Array]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Object]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Function]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>big<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object BigInt]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Date]</span>
</code></pre></div><p>均可准确判断</p> <h2 id="vue-router的原理，两种模式的区别，history模式如何在服务端做额外配置"><a href="#vue-router的原理，两种模式的区别，history模式如何在服务端做额外配置" class="header-anchor">#</a> Vue-router的原理，两种模式的区别，history模式如何在服务端做额外配置</h2> <p>单页面应用，指的是应用只有一个主页面，通过动态替换DOM内容并同步修改url地址来模拟多页应用的效果，切换页面的功能直接由前端来完成，无需后端处理。单页面
能模拟多页面应用的效果，主要得益于前端路由机制。</p> <h3 id="hash模式"><a href="#hash模式" class="header-anchor">#</a> hash模式</h3> <p>默认的模式，其特征就是在url上有一个<code>#</code>,比如<code>http://www.example.com/#/test</code>，其中的hash值是<code>#/test</code>。他的特点就是值虽然在URL里，但不会包含在http
请求中，无论如何改变都不会对后端产生影响，也就是说hash模式不会重载页面</p> <h3 id="history模式"><a href="#history模式" class="header-anchor">#</a> history模式</h3> <p>通过<code>mode: history</code>开启，其特点就是看起来是正常的url,比如<code>http://www.example.com/test</code>。他主要利用了HTML5 History Interface中新增的pushState()
和replaceState()方法，对浏览器的历史记录栈进行修改。只是当他们进行修改时，并不会立即向后端发送请求。但如果进行了手动刷新，他会向后端发起请求，因此，history
模式需要后端进行配合，将路由重定向到一级页面</p> <h3 id="后台配置"><a href="#后台配置" class="header-anchor">#</a> 后台配置</h3> <p>后台需要配置的是，当前端访问一个不存在的路由时，重定向到一级页面，以apache为例
我们用vue-cli建立一个工程后，以history模式打包，将apache的配置指向dist目录启动。</p> <p>在切换时，用于只是单纯的修改浏览器历史记录，所以并没有什么问题
<img src="/router-history.png" alt="history模式"></p> <p>在about页面进行刷新，则会请求后台，如果后台没有进行相应的配置，则会出现404错误
<img src="/router-history1.png" alt="history模式"></p> <p>此时，我们在dist目录下建立一个 .htaccess 文件，内容如下</p> <div class="language-apache extra-class"><pre class="language-text"><code>&lt;IfModule mod_rewrite.c&gt;
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
&lt;/IfModule&gt;
</code></pre></div><p>在about页面刷新后，回复正常
<img src="/router-history2.png" alt="history模式"></p> <h2 id="vue框架开发的优势"><a href="#vue框架开发的优势" class="header-anchor">#</a> Vue框架开发的优势</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/interview/fronted/css.html">
        flex布局
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c6b1cc19.js" defer></script><script src="/assets/js/2.6601f5ed.js" defer></script><script src="/assets/js/10.20b79bb5.js" defer></script>
  </body>
</html>
