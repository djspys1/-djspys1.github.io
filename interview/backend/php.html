<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>php | 个人文档</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="小鹏个人文档">
    <meta name="keywords" content="小鹏,blog,djspys,bbr,chrome,firewall,前端面试,table,html,vue,css,php,xampp,redis">
    <link rel="preload" href="/assets/css/0.styles.4a3e1b49.css" as="style"><link rel="preload" href="/assets/js/app.c6b1cc19.js" as="script"><link rel="preload" href="/assets/js/2.6601f5ed.js" as="script"><link rel="preload" href="/assets/js/8.4ef47606.js" as="script"><link rel="prefetch" href="/assets/js/10.20b79bb5.js"><link rel="prefetch" href="/assets/js/11.26d0d302.js"><link rel="prefetch" href="/assets/js/12.f5255ec0.js"><link rel="prefetch" href="/assets/js/13.f512610d.js"><link rel="prefetch" href="/assets/js/14.51a90532.js"><link rel="prefetch" href="/assets/js/15.8b5c556e.js"><link rel="prefetch" href="/assets/js/16.54c39e8c.js"><link rel="prefetch" href="/assets/js/17.d9e7f651.js"><link rel="prefetch" href="/assets/js/18.160532be.js"><link rel="prefetch" href="/assets/js/19.cd5f0081.js"><link rel="prefetch" href="/assets/js/20.d62776c2.js"><link rel="prefetch" href="/assets/js/21.a639e316.js"><link rel="prefetch" href="/assets/js/22.449d3446.js"><link rel="prefetch" href="/assets/js/23.86927b1c.js"><link rel="prefetch" href="/assets/js/3.5cc68ab4.js"><link rel="prefetch" href="/assets/js/4.f15acc75.js"><link rel="prefetch" href="/assets/js/5.71a9b689.js"><link rel="prefetch" href="/assets/js/6.862a2a88.js"><link rel="prefetch" href="/assets/js/7.e0c55023.js"><link rel="prefetch" href="/assets/js/9.98d476fd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4a3e1b49.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/fronted/javascript.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/interview/backend/php.html" class="nav-link router-link-exact-active router-link-active">
  后端
</a></li></ul></div></div><div class="nav-item"><a href="/knowledge/table.html" class="nav-link">
  小技巧
</a></div><div class="nav-item"><a href="/server/bbr.html" class="nav-link">
  服务器
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/fronted/javascript.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/interview/backend/php.html" class="nav-link router-link-exact-active router-link-active">
  后端
</a></li></ul></div></div><div class="nav-item"><a href="/knowledge/table.html" class="nav-link">
  小技巧
</a></div><div class="nav-item"><a href="/server/bbr.html" class="nav-link">
  服务器
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/interview/backend/php.html" class="active sidebar-link">php</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/backend/php.html#php四种基本算法（冒泡、选择、快速、插入）" class="sidebar-link">php四种基本算法（冒泡、选择、快速、插入）</a></li><li class="sidebar-sub-header"><a href="/interview/backend/php.html#php策略模式" class="sidebar-link">php策略模式</a></li></ul></li><li><a href="/interview/backend/mysql.html" class="sidebar-link">mysql优化</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="php"><a href="#php" class="header-anchor">#</a> php</h1> <h2 id="php四种基本算法（冒泡、选择、快速、插入）"><a href="#php四种基本算法（冒泡、选择、快速、插入）" class="header-anchor">#</a> php四种基本算法（冒泡、选择、快速、插入）</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;?php
/**
 * Created by PhpStorm.
 * User: djspy
 * Date: 2017/8/1
 * Time: 14:42
 */

/**
 * @param array $arr
 *
 * @return array
 * 冒泡排序
 * 两两比较，较大值放后面
 * [4,3,2,1]-&gt;[3,4,2,1]-&gt;[3,2,4,1]-&gt;[3,2,1,4]
 * [2,3,1,4]-&gt;[2,1,3,4]-&gt;[1,2,3,4]
 */
function bubbleSort(array $arr)
{
    $count = count($arr);
    for ($i = 1; $i &lt; $count; $i++) {
        for ($j = 0; $j &lt; $count - $i; $j++) {
            if ($arr[$j] &gt; $arr[$j + 1]) {
                $tmp = $arr[$j + 1];
                $arr[$j + 1] = $arr[$j];
                $arr[$j] = $tmp;
            }
            var_dump($arr);
        }
    }
    return $arr;
}

/**
 * @param array $arr
 *
 * @return array
 * 快速排序
 * 使用递归的思想
 * 将第一个值作为中间值，循环比较，比其小的值放入left数组，反之放入right数组，然后进行递归
 * array_merge合并数组
 * 注： 合并时加入中间值
 */
function quickSort(array $arr)
{
    $count = count($arr);
    if ($count &lt;= 1) {
        return $arr;
    }

    $middle = $arr[0];
    $left = [];
    $right = [];
    for ($i = 1; $i &lt; $count; $i++) {
        if ($middle &lt; $arr[$i]) {
            $right[] = $arr[$i];
        } else {
            $left[] = $arr[$i];
        }
    }

    $left = quickSort($left);
    $right = quickSort($right);

    return array_merge($left, [$middle], $right);
}

/**
 * @param array $arr
 *
 * @return array
 * 选择排序
 * 从待排序的数组中选出最小值，放在起始位置
 * [4,3,2,1]-&gt;[1,4,3,2]-&gt;[1,2,4,3]-&gt;[1,2,3,4]
 */
function selectSort(array $arr) {
    $count = count($arr);
    for ($i = 0; $i &lt; $count; $i++) {
        $min = $i;
        for ($j = $i; $j &lt; $count; $j++) {
            if ($arr[$min] &gt; $arr[$j]) {
                $min = $j;
            }
        }
        if ($min != $i) {
            list($arr[$min], $arr[$i]) = [$arr[$i], $arr[$min]];
        }
    }
    return $arr;
}

/**
 * @param array $arr
 *
 * @return array
 * 插入排序
 * 将待比较的值插入到合适的位置
 * [4,1,3,2]-&gt;[1,4,3,2]-&gt;[1,3,4,2]-&gt;[1,2,3,4]
 */
function insertSort(array $arr) {
    $count = count($arr);
    for ($i = 1; $i &lt; $count; $i++) {
        $tmp = $arr[$i];
        for ($j = $i - 1; $j &gt;= 0; $j --) {
            if ($tmp &lt; $arr[$j]) {
                $arr[$j+1] = $arr[$j];
                $arr[$j] = $tmp;
            }
        }
    }
    return $arr;
}
$a = [4, 1, 3, 2];

var_dump(array_unique(bubbleSort($a)));
var_dump(array_unique(quickSort($a)));
var_dump(array_unique(selectSort($a)));
var_dump(array_unique(insertSort($a)));
// 直接使用自带的方法
sort($a);
var_dump($a);
asort($a);
var_dump($a);
</code></pre></div><h2 id="php策略模式"><a href="#php策略模式" class="header-anchor">#</a> php策略模式</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;?php
use Symfony\Component\DependencyInjection\Reference;

/**
 * Class Preferences
 * 单例模式
 * 具体实现
 * 1.私有的构造函数
 * 2.含有一个该类的静态私有对象
 * 3.提供一个静态的公有函数用于创建或获取它本身的私有对象
 * 4.一个私有的clone方法防止克隆
 */
class Preferences {
    private $props = [];
    private static $instance;

    private function __construct() {}

    public static function getInstance() {
        if (empty(self::$instance)) {
            self::$instance = new Preferences();
        }
        return self::$instance;
    }

    public function setProperty($key, $val)
    {
        $this-&gt;props[$key] = $val;
    }

    public function getProperty($key)
    {
        echo $this-&gt;props[$key];
    }

    private function __clone()
    {
        
    }
}

$db = Preferences::getInstance();
$db-&gt;setProperty(&quot;name&quot;, 'xx');
$db-&gt;getProperty(&quot;name&quot;);

unset($db);

$db2 = Preferences::getInstance();
$db2-&gt;getProperty(&quot;name&quot;);
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/interview/backend/mysql.html">
        mysql优化
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c6b1cc19.js" defer></script><script src="/assets/js/2.6601f5ed.js" defer></script><script src="/assets/js/8.4ef47606.js" defer></script>
  </body>
</html>
