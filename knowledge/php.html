<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP | 个人文档</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="小鹏个人文档">
    <meta name="keywords" content="小鹏,blog,djspys,bbr,chrome,firewall,前端面试,table,html,vue,css,php,xampp,redis">
    <link rel="preload" href="/assets/css/0.styles.4a3e1b49.css" as="style"><link rel="preload" href="/assets/js/app.c6b1cc19.js" as="script"><link rel="preload" href="/assets/js/2.6601f5ed.js" as="script"><link rel="preload" href="/assets/js/16.54c39e8c.js" as="script"><link rel="prefetch" href="/assets/js/10.20b79bb5.js"><link rel="prefetch" href="/assets/js/11.26d0d302.js"><link rel="prefetch" href="/assets/js/12.f5255ec0.js"><link rel="prefetch" href="/assets/js/13.f512610d.js"><link rel="prefetch" href="/assets/js/14.51a90532.js"><link rel="prefetch" href="/assets/js/15.8b5c556e.js"><link rel="prefetch" href="/assets/js/17.d9e7f651.js"><link rel="prefetch" href="/assets/js/18.160532be.js"><link rel="prefetch" href="/assets/js/19.cd5f0081.js"><link rel="prefetch" href="/assets/js/20.d62776c2.js"><link rel="prefetch" href="/assets/js/21.a639e316.js"><link rel="prefetch" href="/assets/js/22.449d3446.js"><link rel="prefetch" href="/assets/js/23.86927b1c.js"><link rel="prefetch" href="/assets/js/3.5cc68ab4.js"><link rel="prefetch" href="/assets/js/4.f15acc75.js"><link rel="prefetch" href="/assets/js/5.71a9b689.js"><link rel="prefetch" href="/assets/js/6.862a2a88.js"><link rel="prefetch" href="/assets/js/7.e0c55023.js"><link rel="prefetch" href="/assets/js/8.4ef47606.js"><link rel="prefetch" href="/assets/js/9.98d476fd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4a3e1b49.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/fronted/javascript.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/interview/backend/php.html" class="nav-link">
  后端
</a></li></ul></div></div><div class="nav-item"><a href="/knowledge/table.html" class="nav-link">
  小技巧
</a></div><div class="nav-item"><a href="/server/bbr.html" class="nav-link">
  服务器
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/fronted/javascript.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/interview/backend/php.html" class="nav-link">
  后端
</a></li></ul></div></div><div class="nav-item"><a href="/knowledge/table.html" class="nav-link">
  小技巧
</a></div><div class="nav-item"><a href="/server/bbr.html" class="nav-link">
  服务器
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/knowledge/table.html" class="sidebar-link">table锁定表头和列</a></li><li><a href="/knowledge/bat.html" class="sidebar-link">bat使用</a></li><li><a href="/knowledge/other.html" class="sidebar-link">杂项</a></li><li><a href="/knowledge/auto.html" class="sidebar-link">ssh2实现自动化上传</a></li><li><a href="/knowledge/browser/chrome.html" class="sidebar-link">chrome相关</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="php"><a href="#php" class="header-anchor">#</a> PHP</h1> <h2 id="使用php自带的mail函数发送邮件"><a href="#使用php自带的mail函数发送邮件" class="header-anchor">#</a> 使用PHP自带的mail函数发送邮件</h2> <ul><li>根据PHP官方的使用方法</li></ul> <div class="language- extra-class"><pre class="language-text"><code>bool mail ( string $to , string $subject , string $message [, string $additional_headers [, string $additional_parameters ]] )
</code></pre></div><p>但是在实际使用时，一直报错无法发送，原因是尚未配置一些信息</p> <ul><li>我使用的是xampp集成环境，根据其官方文档的教程，需在其配置文件进行相应的配置（配置php.ini与sendmail.ini）
<ul><li>Edit the XAMPP &quot;php.ini&quot; file. Within this file, find the [mail function] section and replace it with the following directives. Change the XAMPP installation path if needed.</li> <li>sendmail_path = &quot;&quot;C:\xampp\sendmail\sendmail.exe&quot; -t&quot;</li> <li>Edit the XAMPP &quot;sendmail.ini&quot; file. Within this file, find the [sendmail] section and replace it with the following directives:</li> <li></li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>smtp_server=smtp.gmail.com
smtp_port=465
smtp_ssl=auto
error_logfile=error.log
auth_username=your-gmail-username@gmail.com
auth_password=your-gmail-password
</code></pre></div><div class="language- extra-class"><pre><code>* Remember to replace the dummy values shown with your actual Gmail address and account password. If you don't plan to use Gmail's SMTP server, replace the SMTP host details with appropriate values for your organization or ISP's SMTP server.

* Restart the Apache server using the XAMPP control panel.
</code></pre></div><ul><li>安装教程进行相应配置后，并不能发送，显示为超时，猜测原因是因为使用了gmail。将其换为qq的邮箱</li></ul> <div class="language- extra-class"><pre class="language-text"><code>使用SSL的通用配置如下：
接收邮件服务器：imap.qq.com，使用SSL，端口号993
发送邮件服务器：smtp.qq.com，使用SSL，端口号465或587
</code></pre></div><ul><li>再次尝试mail()发送时，出现了验证错误的提示，这是因为邮箱登录的密码并不能用在此处，需要一个授权码，在qq邮箱-&gt;设置-&gt;账户下开启imap/smtp。根据提示操作以获取授权码。</li> <li>再次尝试，会发现已发送成功</li></ul> <h2 id="php7性能提升"><a href="#php7性能提升" class="header-anchor">#</a> php7性能提升</h2> <ul><li>开启opcache，php.ini文件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>zend_extension=opcache.so
opcache.enable=1
opcache.enable_cli=1&quot;
</code></pre></div><ul><li><p>升级gcc到4.8以上以开启Global Register for opline and execute_data</p></li> <li><p>开启<code>opcache file cache</code>,将缓存缓存到外部文件，能提升脚本性能</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>opcache.file_cache=/tmp
</code></pre></div><ul><li>开启HugePage</li></ul> <div class="language- extra-class"><pre class="language-text"><code>//centos6.5
$sudo sysctl vm.nr_hugepages=512
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>//php.ini
opcache.huge_code_pages=1
</code></pre></div><ul><li>对于某个特定的场景，使用pgo进行优化。<a href="http://www.laruence.com/2015/06/19/3063.html" target="_blank" rel="noopener noreferrer">原文地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c6b1cc19.js" defer></script><script src="/assets/js/2.6601f5ed.js" defer></script><script src="/assets/js/16.54c39e8c.js" defer></script>
  </body>
</html>
