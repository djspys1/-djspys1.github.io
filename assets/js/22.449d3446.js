(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{342:function(t,a,e){"use strict";e.r(a);var n=e(33),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"xampp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xampp"}},[t._v("#")]),t._v(" xampp")]),t._v(" "),e("h2",{attrs:{id:"linux环境安装xampp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux环境安装xampp"}},[t._v("#")]),t._v(" linux环境安装xampp")]),t._v(" "),e("ul",[e("li",[t._v("下载：从"),e("a",{attrs:{href:"https://www.apachefriends.org/zh_cn/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),e("OutboundLink")],1),t._v("下载对应的版本的xampp(不一定非得是wget，也可以是其他):")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("wget https://www.apachefriends.org/xampp-files/7.2.1/xampp-win32-7.2.1-0-VC15-installer.exe\n")])])]),e("ul",[e("li",[t._v("安装：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 更改权限\nchmod 755 xampp-linux-*-installer.run\n// 开始安装\nsudo ./xampp-linux-*-installer.run\n")])])]),e("ul",[e("li",[t._v("常用操作")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 启动\nsudo /opt/lampp/lampp start\n// 停止\nsudo /opt/lampp/lampp stop\n// 重启\nsudo /opt/lampp/lampp restart\n")])])]),e("ul",[e("li",[t._v("其他配置与问题\n"),e("a",{attrs:{href:"https://www.apachefriends.org/faq_linux.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网常见问题"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"xampp升级"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xampp升级"}},[t._v("#")]),t._v(" xampp升级")]),t._v(" "),e("p",[t._v("symfony4.1版本后，明确说明PHP需要7.1以上，而我的PHP版本为7.0，只能升级版本")]),t._v(" "),e("p",[t._v("以前的安装方式是按照xampp官网的教程使用安装包安装，但是找遍了百度，谷歌，官网，stackoverflow，也没有找到一个明确的教程来说明如何直接升级版本，只能由自己瞎捣鼓了")]),t._v(" "),e("p",[t._v("未以防万一，我首先将项目文件，和"),e("code",[t._v("httpd.conf")]),t._v(","),e("code",[t._v("httpd-vhosts.conf")]),t._v("二个文件复制到了其他地方，然后在lampp目录下，我看到了一个uninstall的东西，执行此文件"),e("code",[t._v("./uninstall")]),t._v("，一顿删除后，发现还留下了几个文件，\n"),e("img",{attrs:{src:t.$withBase("/xampp2.jpg"),alt:"xampp"}}),t._v("\n进入htdocs目录发现项目都还在，这个不错。")]),t._v(" "),e("p",[t._v("wget下载最新的xampp安装包（wget在centos7需要自己安装，不一定非得wget）,安装上述官网教程安装后，成功安装，"),e("code",[t._v("PHP -v")]),t._v("查看版本，可以看出PHP升级到了7.2")]),t._v(" "),e("p",[t._v("检测项目和网站能否打开。启动apache,mysql后随便打开了一个网站，")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/xampp1.jpg"),alt:"xampp"}}),t._v(" "),e("p",[t._v("看这情况，apache是没问题的，应该是数据库连接不对，登录mysql查看，初始的mysql是没密码的，看mysql数据库下的user表，会发现只有五个默认的用户，自行配置增加用户给予权限后，网站恢复.因此可以考虑在卸载前备份一份用户表,否则可能会出现一些不可预料的问题，如在重新安装后，部分数据表可能会出现损坏的情况，如：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Table 'piplin.providers' doesn't exist in engine\n")])])]),e("p",[t._v("可以通过"),e("code",[t._v("show tables")]),t._v("看到，但无法使用\n最后就是一些常规配置了，如隐藏版本号等等，按照以前的流程就好")]),t._v(" "),e("h2",{attrs:{id:"开启gzip压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开启gzip压缩"}},[t._v("#")]),t._v(" 开启Gzip压缩")]),t._v(" "),e("ul",[e("li",[t._v("开启Gzip压缩会加快速度，但会消耗额外的CPU资源。")])]),t._v(" "),e("h3",{attrs:{id:"使用方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[t._v("#")]),t._v(" 使用方法")]),t._v(" "),e("p",[t._v("进入httpd.conf")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("//开启这两个，mod_deflate默认不启用\nLoadModule deflate_module modules/mod_deflate.so\nLoadModule headers_module modules/mod_headers.so\n\n//在末尾加上\n<IfModule deflate_module>\nSetOutputFilter DEFLATE\n//不压缩图片\nSetEnvIfNoCase Request_URI \\.(?:gif|jpe?g|png)$ no-gzip dont-vary\n//压缩html，纯文本,xml和css\nAddOutputFilterByType DEFLATE text/html text/plain text/xml text/css\n</IfModule>\n")])])]),e("ul",[e("li",[t._v("或者在.htaccess中")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<IfModule mod_deflate.c>  \nSetOutputFilter DEFLATE  \nSetEnvIfNoCase Request_URI .(?:gif|jpe?g|png)$ no-gzip dont-vary  \nSetEnvIfNoCase Request_URI .(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary  \nSetEnvIfNoCase Request_URI .(?:pdf|mov|avi|mp3|mp4|rm)$ no-gzip dont-vary  \nAddOutputFilterByType DEFLATE text/*  \nAddOutputFilterByType DEFLATE application/ms* application/vnd* application/postscript  \napplication/javascript application/x-javascript  \nAddOutputFilterByType DEFLATE application/x-httpd-php application/x-httpd-fastphp  \nBrowserMatch ^Mozilla/4 gzip-only-text/html  \nBrowserMatch ^Mozilla/4.0[678] no-gzip  \nBrowserMatch \\bMSIE !no-gzip !gzip-only-text/html  \n</IfModule>  \n")])])]),e("h2",{attrs:{id:"按天存储日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#按天存储日志"}},[t._v("#")]),t._v(" 按天存储日志")]),t._v(" "),e("h3",{attrs:{id:"使用方法-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用方法-2"}},[t._v("#")]),t._v(" 使用方法")]),t._v(" "),e("p",[t._v("进入http.conf")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('ErrorLog "|bin/rotatelogs /var/logs/errorlog.%Y-%m-%d-%H_%M_%S 5M"\nCustomLog "|bin/rotatelogs.exe -l logs/access.%A.log 15M"\n')])])]),e("h2",{attrs:{id:"隐藏版本号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#隐藏版本号"}},[t._v("#")]),t._v(" 隐藏版本号")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("在生产环境会比较注重安全，会有些操作，其中之一就是因此版本号")])]),t._v(" "),e("li",[e("p",[t._v("首先隐藏apache版本号，查看httpd.conf有没有引入httpd-default.conf文件")]),t._v(" "),e("ul",[e("li",[t._v("引入了则修改httpd-default.conf,未引入则在httpd.conf下")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ServerTokens Prod \nServerSignature Off\n")])])])]),t._v(" "),e("li",[e("p",[t._v("隐藏PHP版本号")]),t._v(" "),e("ul",[e("li",[t._v("修改php.ini文件")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("expose_php Off\n")])])])])]),t._v(" "),e("h2",{attrs:{id:"xampp重启失败"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xampp重启失败"}},[t._v("#")]),t._v(" xampp重启失败")]),t._v(" "),e("ul",[e("li",[t._v("在重启xampp时，apace无法关闭")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[root@localhost etc]# /opt/lampp/lampp restartapache\nXAMPP: Stopping Apache...fail.\napachectl returned 1.\nXAMPP: Starting Apache...already running.\n")])])]),e("ul",[e("li",[e("p",[t._v("解决办法")]),t._v(" "),e("ul",[e("li",[t._v("删除如下文件")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$XAMPP_ROOT/logs/httpd.pid\n$XAMPP_ROOT/var/proftpd.pid\n")])])]),e("ul",[e("li",[t._v("再次重启出现如下问题(以下问题为个人出现的问题，上一步解决后如果提示没有日志文件什么的，手动建一个即可)")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[root@localhost var]# /opt/lampp/lampp startapache\nXAMPP: Starting Apache...fail.\nXAMPP:  Another web server is already running.\n")])])]),e("ul",[e("li",[t._v("说明已关闭，但是启动失败，端口被占用，杀掉占用进程")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[root@localhost var]# /opt/lampp/lampp restart\nRestarting XAMPP for Linux 7.0.13-0...\nXAMPP: Stopping Apache...not running.\nXAMPP: Stopping MySQL...ok.\nXAMPP: Stopping ProFTPD...not running.\nXAMPP: Starting Apache...fail.\nXAMPP:  Another web server is already running.\nXAMPP: Starting MySQL...ok.\nXAMPP: Starting ProFTPD...fail.\nXAMPP:  Another FTP daemon is already running.\n")])])]),e("ul",[e("li",[t._v("apche与proftpd都失败，先解决apache，默认端口80")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(" lsof -i :80\nCOMMAND     PID   USER   FD   TYPE   DEVICE SIZE/OFF NODE NAME\njava      10422   root  409u  IPv6 75695834      0t0  TCP localhost.localdomain:36270->202.121.199.235:http (ESTABLISHED)\n")])])]),e("ul",[e("li",[t._v("杀掉进程，再次重启")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('[root@localhost var]# /opt/lampp/lampp restart\nRestarting XAMPP for Linux 7.0.13-0...\nXAMPP: Stopping Apache...not running.\nXAMPP: Stopping MySQL...ok.\nXAMPP: Stopping ProFTPD...not running.\nXAMPP: Starting Apache...fail.\nXAMPP:  Starting diagnose...\nXAMPP:  Sorry, I\'ve no idea what\'s going wrong.\nXAMPP:  Please contact our forum http://www.apachefriends.org/f/\nLast 10 lines of "/opt/lampp/logs/error_log":\ntail: 无法打开"/opt/lampp/logs/error.log" 读取数据: 没有那个文件或目录\nXAMPP: Starting MySQL...ok.\nXAMPP: Starting ProFTPD...fail.\nXAMPP:  Another FTP daemon is already running.\n')])])]),e("ul",[e("li",[t._v("相应目录创建error.log文件，重启后apache启动成功，但proftpd还是失败")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[root@localhost logs]# /opt/lampp/lampp restart\nRestarting XAMPP for Linux 7.0.13-0...\nXAMPP: Stopping Apache...ok.\nXAMPP: Stopping MySQL...ok.\nXAMPP: Stopping ProFTPD...not running.\nXAMPP: Starting Apache...ok.\nXAMPP: Starting MySQL...ok.\nXAMPP: Starting ProFTPD...fail.\nXAMPP:  Another FTP daemon is already running.\n[root@localhost logs]# ps -aux |grep ftp\nroot     21483  0.0  0.0  54800  1684 ?        Ss   08:46   0:00 /usr/libexec/openssh/sftp-server\nroot     21538  0.0  0.0  54800  1496 ?        Ss   08:46   0:00 /usr/libexec/openssh/sftp-server\nroot     24356  0.0  0.0  54800  2104 ?        Ss   09:54   0:00 /usr/libexec/openssh/sftp-server\nroot     24397  0.0  0.0  54800  1908 ?        Ss   09:55   0:00 /usr/libexec/openssh/sftp-server\nroot     24677  0.0  0.0  54800  2104 ?        Ss   10:01   0:00 /usr/libexec/openssh/sftp-server\ndaemon   25162  0.0  0.0  45032  1980 ?        Ss   10:06   0:00 proftpd: (accepting connections)\nroot     28034  0.0  0.0 114712   976 pts/2    S+   10:23   0:00 grep --color=auto ftp\n")])])]),e("ul",[e("li",[t._v("kill -9 25162杀掉进程，重启xampp")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[root@localhost logs]# /opt/lampp/lampp restart\nRestarting XAMPP for Linux 7.0.13-0...\nXAMPP: Stopping Apache...not running.\nXAMPP: Stopping MySQL...ok.\nXAMPP: Stopping ProFTPD...ok.\nXAMPP: Starting Apache...ok.\nXAMPP: Starting MySQL...ok.\nXAMPP: Starting ProFTPD...ok.\n")])])]),e("ul",[e("li",[t._v("成功")])])])])])}),[],!1,null,null,null);a.default=s.exports}}]);