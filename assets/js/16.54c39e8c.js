(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{336:function(e,a,t){"use strict";t.r(a);var s=t(33),l=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"php"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#php"}},[e._v("#")]),e._v(" PHP")]),e._v(" "),t("h2",{attrs:{id:"使用php自带的mail函数发送邮件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用php自带的mail函数发送邮件"}},[e._v("#")]),e._v(" 使用PHP自带的mail函数发送邮件")]),e._v(" "),t("ul",[t("li",[e._v("根据PHP官方的使用方法")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("bool mail ( string $to , string $subject , string $message [, string $additional_headers [, string $additional_parameters ]] )\n")])])]),t("p",[e._v("但是在实际使用时，一直报错无法发送，原因是尚未配置一些信息")]),e._v(" "),t("ul",[t("li",[e._v("我使用的是xampp集成环境，根据其官方文档的教程，需在其配置文件进行相应的配置（配置php.ini与sendmail.ini）\n"),t("ul",[t("li",[e._v('Edit the XAMPP "php.ini" file. Within this file, find the [mail function] section and replace it with the following directives. Change the XAMPP installation path if needed.')]),e._v(" "),t("li",[e._v('sendmail_path = ""C:\\xampp\\sendmail\\sendmail.exe" -t"')]),e._v(" "),t("li",[e._v('Edit the XAMPP "sendmail.ini" file. Within this file, find the [sendmail] section and replace it with the following directives:')]),e._v(" "),t("li")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("smtp_server=smtp.gmail.com\nsmtp_port=465\nsmtp_ssl=auto\nerror_logfile=error.log\nauth_username=your-gmail-username@gmail.com\nauth_password=your-gmail-password\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("* Remember to replace the dummy values shown with your actual Gmail address and account password. If you don't plan to use Gmail's SMTP server, replace the SMTP host details with appropriate values for your organization or ISP's SMTP server.\n\n* Restart the Apache server using the XAMPP control panel.\n")])])]),t("ul",[t("li",[e._v("安装教程进行相应配置后，并不能发送，显示为超时，猜测原因是因为使用了gmail。将其换为qq的邮箱")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("使用SSL的通用配置如下：\n接收邮件服务器：imap.qq.com，使用SSL，端口号993\n发送邮件服务器：smtp.qq.com，使用SSL，端口号465或587\n")])])]),t("ul",[t("li",[e._v("再次尝试mail()发送时，出现了验证错误的提示，这是因为邮箱登录的密码并不能用在此处，需要一个授权码，在qq邮箱->设置->账户下开启imap/smtp。根据提示操作以获取授权码。")]),e._v(" "),t("li",[e._v("再次尝试，会发现已发送成功")])]),e._v(" "),t("h2",{attrs:{id:"php7性能提升"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#php7性能提升"}},[e._v("#")]),e._v(" php7性能提升")]),e._v(" "),t("ul",[t("li",[e._v("开启opcache，php.ini文件")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('zend_extension=opcache.so\nopcache.enable=1\nopcache.enable_cli=1"\n')])])]),t("ul",[t("li",[t("p",[e._v("升级gcc到4.8以上以开启Global Register for opline and execute_data")])]),e._v(" "),t("li",[t("p",[e._v("开启"),t("code",[e._v("opcache file cache")]),e._v(",将缓存缓存到外部文件，能提升脚本性能")])])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("opcache.file_cache=/tmp\n")])])]),t("ul",[t("li",[e._v("开启HugePage")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("//centos6.5\n$sudo sysctl vm.nr_hugepages=512\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("//php.ini\nopcache.huge_code_pages=1\n")])])]),t("ul",[t("li",[e._v("对于某个特定的场景，使用pgo进行优化。"),t("a",{attrs:{href:"http://www.laruence.com/2015/06/19/3063.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("原文地址"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=l.exports}}]);