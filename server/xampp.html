<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>xampp | 个人文档</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="小鹏个人文档">
    <meta name="keywords" content="小鹏,blog,djspys,bbr,chrome,firewall,前端面试,table,html,vue,css,php,xampp,redis">
    <link rel="preload" href="/assets/css/0.styles.4a3e1b49.css" as="style"><link rel="preload" href="/assets/js/app.c6b1cc19.js" as="script"><link rel="preload" href="/assets/js/2.6601f5ed.js" as="script"><link rel="preload" href="/assets/js/22.449d3446.js" as="script"><link rel="prefetch" href="/assets/js/10.20b79bb5.js"><link rel="prefetch" href="/assets/js/11.26d0d302.js"><link rel="prefetch" href="/assets/js/12.f5255ec0.js"><link rel="prefetch" href="/assets/js/13.f512610d.js"><link rel="prefetch" href="/assets/js/14.51a90532.js"><link rel="prefetch" href="/assets/js/15.8b5c556e.js"><link rel="prefetch" href="/assets/js/16.54c39e8c.js"><link rel="prefetch" href="/assets/js/17.d9e7f651.js"><link rel="prefetch" href="/assets/js/18.160532be.js"><link rel="prefetch" href="/assets/js/19.cd5f0081.js"><link rel="prefetch" href="/assets/js/20.d62776c2.js"><link rel="prefetch" href="/assets/js/21.a639e316.js"><link rel="prefetch" href="/assets/js/23.86927b1c.js"><link rel="prefetch" href="/assets/js/3.5cc68ab4.js"><link rel="prefetch" href="/assets/js/4.f15acc75.js"><link rel="prefetch" href="/assets/js/5.71a9b689.js"><link rel="prefetch" href="/assets/js/6.862a2a88.js"><link rel="prefetch" href="/assets/js/7.e0c55023.js"><link rel="prefetch" href="/assets/js/8.4ef47606.js"><link rel="prefetch" href="/assets/js/9.98d476fd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4a3e1b49.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/fronted/javascript.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/interview/backend/php.html" class="nav-link">
  后端
</a></li></ul></div></div><div class="nav-item"><a href="/knowledge/table.html" class="nav-link">
  小技巧
</a></div><div class="nav-item"><a href="/server/bbr.html" class="nav-link">
  服务器
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/fronted/javascript.html" class="nav-link">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/interview/backend/php.html" class="nav-link">
  后端
</a></li></ul></div></div><div class="nav-item"><a href="/knowledge/table.html" class="nav-link">
  小技巧
</a></div><div class="nav-item"><a href="/server/bbr.html" class="nav-link">
  服务器
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/server/bbr.html" class="sidebar-link">bbr加速</a></li><li><a href="/server/xampp.html" class="active sidebar-link">xampp</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/server/xampp.html#linux环境安装xampp" class="sidebar-link">linux环境安装xampp</a></li><li class="sidebar-sub-header"><a href="/server/xampp.html#xampp升级" class="sidebar-link">xampp升级</a></li><li class="sidebar-sub-header"><a href="/server/xampp.html#开启gzip压缩" class="sidebar-link">开启Gzip压缩</a></li><li class="sidebar-sub-header"><a href="/server/xampp.html#按天存储日志" class="sidebar-link">按天存储日志</a></li><li class="sidebar-sub-header"><a href="/server/xampp.html#隐藏版本号" class="sidebar-link">隐藏版本号</a></li><li class="sidebar-sub-header"><a href="/server/xampp.html#xampp重启失败" class="sidebar-link">xampp重启失败</a></li></ul></li><li><a href="/server/redis.html" class="sidebar-link">redis安装与使用</a></li><li><a href="/server/firewall.html" class="sidebar-link">firewall防火墙常用操作</a></li><li><a href="/server/vi.html" class="sidebar-link">Ubuntu下使用Vi时方向键变乱码 退格键不能使用的解决方法</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="xampp"><a href="#xampp" class="header-anchor">#</a> xampp</h1> <h2 id="linux环境安装xampp"><a href="#linux环境安装xampp" class="header-anchor">#</a> linux环境安装xampp</h2> <ul><li>下载：从<a href="https://www.apachefriends.org/zh_cn/download.html" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>下载对应的版本的xampp(不一定非得是wget，也可以是其他):</li></ul> <div class="language- extra-class"><pre class="language-text"><code>wget https://www.apachefriends.org/xampp-files/7.2.1/xampp-win32-7.2.1-0-VC15-installer.exe
</code></pre></div><ul><li>安装：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 更改权限
chmod 755 xampp-linux-*-installer.run
// 开始安装
sudo ./xampp-linux-*-installer.run
</code></pre></div><ul><li>常用操作</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 启动
sudo /opt/lampp/lampp start
// 停止
sudo /opt/lampp/lampp stop
// 重启
sudo /opt/lampp/lampp restart
</code></pre></div><ul><li>其他配置与问题
<a href="https://www.apachefriends.org/faq_linux.html" target="_blank" rel="noopener noreferrer">官网常见问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="xampp升级"><a href="#xampp升级" class="header-anchor">#</a> xampp升级</h2> <p>symfony4.1版本后，明确说明PHP需要7.1以上，而我的PHP版本为7.0，只能升级版本</p> <p>以前的安装方式是按照xampp官网的教程使用安装包安装，但是找遍了百度，谷歌，官网，stackoverflow，也没有找到一个明确的教程来说明如何直接升级版本，只能由自己瞎捣鼓了</p> <p>未以防万一，我首先将项目文件，和<code>httpd.conf</code>,<code>httpd-vhosts.conf</code>二个文件复制到了其他地方，然后在lampp目录下，我看到了一个uninstall的东西，执行此文件<code>./uninstall</code>，一顿删除后，发现还留下了几个文件，
<img src="/xampp2.jpg" alt="xampp">
进入htdocs目录发现项目都还在，这个不错。</p> <p>wget下载最新的xampp安装包（wget在centos7需要自己安装，不一定非得wget）,安装上述官网教程安装后，成功安装，<code>PHP -v</code>查看版本，可以看出PHP升级到了7.2</p> <p>检测项目和网站能否打开。启动apache,mysql后随便打开了一个网站，</p> <img src="/xampp1.jpg" alt="xampp"> <p>看这情况，apache是没问题的，应该是数据库连接不对，登录mysql查看，初始的mysql是没密码的，看mysql数据库下的user表，会发现只有五个默认的用户，自行配置增加用户给予权限后，网站恢复.因此可以考虑在卸载前备份一份用户表,否则可能会出现一些不可预料的问题，如在重新安装后，部分数据表可能会出现损坏的情况，如：</p> <div class="language- extra-class"><pre class="language-text"><code>Table 'piplin.providers' doesn't exist in engine
</code></pre></div><p>可以通过<code>show tables</code>看到，但无法使用
最后就是一些常规配置了，如隐藏版本号等等，按照以前的流程就好</p> <h2 id="开启gzip压缩"><a href="#开启gzip压缩" class="header-anchor">#</a> 开启Gzip压缩</h2> <ul><li>开启Gzip压缩会加快速度，但会消耗额外的CPU资源。</li></ul> <h3 id="使用方法"><a href="#使用方法" class="header-anchor">#</a> 使用方法</h3> <p>进入httpd.conf</p> <div class="language- extra-class"><pre class="language-text"><code>//开启这两个，mod_deflate默认不启用
LoadModule deflate_module modules/mod_deflate.so
LoadModule headers_module modules/mod_headers.so

//在末尾加上
&lt;IfModule deflate_module&gt;
SetOutputFilter DEFLATE
//不压缩图片
SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
//压缩html，纯文本,xml和css
AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css
&lt;/IfModule&gt;
</code></pre></div><ul><li>或者在.htaccess中</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;IfModule mod_deflate.c&gt;  
SetOutputFilter DEFLATE  
SetEnvIfNoCase Request_URI .(?:gif|jpe?g|png)$ no-gzip dont-vary  
SetEnvIfNoCase Request_URI .(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary  
SetEnvIfNoCase Request_URI .(?:pdf|mov|avi|mp3|mp4|rm)$ no-gzip dont-vary  
AddOutputFilterByType DEFLATE text/*  
AddOutputFilterByType DEFLATE application/ms* application/vnd* application/postscript  
application/javascript application/x-javascript  
AddOutputFilterByType DEFLATE application/x-httpd-php application/x-httpd-fastphp  
BrowserMatch ^Mozilla/4 gzip-only-text/html  
BrowserMatch ^Mozilla/4.0[678] no-gzip  
BrowserMatch \bMSIE !no-gzip !gzip-only-text/html  
&lt;/IfModule&gt;  
</code></pre></div><h2 id="按天存储日志"><a href="#按天存储日志" class="header-anchor">#</a> 按天存储日志</h2> <h3 id="使用方法-2"><a href="#使用方法-2" class="header-anchor">#</a> 使用方法</h3> <p>进入http.conf</p> <div class="language- extra-class"><pre class="language-text"><code>ErrorLog &quot;|bin/rotatelogs /var/logs/errorlog.%Y-%m-%d-%H_%M_%S 5M&quot;
CustomLog &quot;|bin/rotatelogs.exe -l logs/access.%A.log 15M&quot;
</code></pre></div><h2 id="隐藏版本号"><a href="#隐藏版本号" class="header-anchor">#</a> 隐藏版本号</h2> <ul><li><p>在生产环境会比较注重安全，会有些操作，其中之一就是因此版本号</p></li> <li><p>首先隐藏apache版本号，查看httpd.conf有没有引入httpd-default.conf文件</p> <ul><li>引入了则修改httpd-default.conf,未引入则在httpd.conf下</li></ul> <div class="language- extra-class"><pre class="language-text"><code>ServerTokens Prod 
ServerSignature Off
</code></pre></div></li> <li><p>隐藏PHP版本号</p> <ul><li>修改php.ini文件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>expose_php Off
</code></pre></div></li></ul> <h2 id="xampp重启失败"><a href="#xampp重启失败" class="header-anchor">#</a> xampp重启失败</h2> <ul><li>在重启xampp时，apace无法关闭</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[root@localhost etc]# /opt/lampp/lampp restartapache
XAMPP: Stopping Apache...fail.
apachectl returned 1.
XAMPP: Starting Apache...already running.
</code></pre></div><ul><li><p>解决办法</p> <ul><li>删除如下文件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>$XAMPP_ROOT/logs/httpd.pid
$XAMPP_ROOT/var/proftpd.pid
</code></pre></div><ul><li>再次重启出现如下问题(以下问题为个人出现的问题，上一步解决后如果提示没有日志文件什么的，手动建一个即可)</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[root@localhost var]# /opt/lampp/lampp startapache
XAMPP: Starting Apache...fail.
XAMPP:  Another web server is already running.
</code></pre></div><ul><li>说明已关闭，但是启动失败，端口被占用，杀掉占用进程</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[root@localhost var]# /opt/lampp/lampp restart
Restarting XAMPP for Linux 7.0.13-0...
XAMPP: Stopping Apache...not running.
XAMPP: Stopping MySQL...ok.
XAMPP: Stopping ProFTPD...not running.
XAMPP: Starting Apache...fail.
XAMPP:  Another web server is already running.
XAMPP: Starting MySQL...ok.
XAMPP: Starting ProFTPD...fail.
XAMPP:  Another FTP daemon is already running.
</code></pre></div><ul><li>apche与proftpd都失败，先解决apache，默认端口80</li></ul> <div class="language- extra-class"><pre class="language-text"><code> lsof -i :80
COMMAND     PID   USER   FD   TYPE   DEVICE SIZE/OFF NODE NAME
java      10422   root  409u  IPv6 75695834      0t0  TCP localhost.localdomain:36270-&gt;202.121.199.235:http (ESTABLISHED)
</code></pre></div><ul><li>杀掉进程，再次重启</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[root@localhost var]# /opt/lampp/lampp restart
Restarting XAMPP for Linux 7.0.13-0...
XAMPP: Stopping Apache...not running.
XAMPP: Stopping MySQL...ok.
XAMPP: Stopping ProFTPD...not running.
XAMPP: Starting Apache...fail.
XAMPP:  Starting diagnose...
XAMPP:  Sorry, I've no idea what's going wrong.
XAMPP:  Please contact our forum http://www.apachefriends.org/f/
Last 10 lines of &quot;/opt/lampp/logs/error_log&quot;:
tail: 无法打开&quot;/opt/lampp/logs/error.log&quot; 读取数据: 没有那个文件或目录
XAMPP: Starting MySQL...ok.
XAMPP: Starting ProFTPD...fail.
XAMPP:  Another FTP daemon is already running.
</code></pre></div><ul><li>相应目录创建error.log文件，重启后apache启动成功，但proftpd还是失败</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[root@localhost logs]# /opt/lampp/lampp restart
Restarting XAMPP for Linux 7.0.13-0...
XAMPP: Stopping Apache...ok.
XAMPP: Stopping MySQL...ok.
XAMPP: Stopping ProFTPD...not running.
XAMPP: Starting Apache...ok.
XAMPP: Starting MySQL...ok.
XAMPP: Starting ProFTPD...fail.
XAMPP:  Another FTP daemon is already running.
[root@localhost logs]# ps -aux |grep ftp
root     21483  0.0  0.0  54800  1684 ?        Ss   08:46   0:00 /usr/libexec/openssh/sftp-server
root     21538  0.0  0.0  54800  1496 ?        Ss   08:46   0:00 /usr/libexec/openssh/sftp-server
root     24356  0.0  0.0  54800  2104 ?        Ss   09:54   0:00 /usr/libexec/openssh/sftp-server
root     24397  0.0  0.0  54800  1908 ?        Ss   09:55   0:00 /usr/libexec/openssh/sftp-server
root     24677  0.0  0.0  54800  2104 ?        Ss   10:01   0:00 /usr/libexec/openssh/sftp-server
daemon   25162  0.0  0.0  45032  1980 ?        Ss   10:06   0:00 proftpd: (accepting connections)
root     28034  0.0  0.0 114712   976 pts/2    S+   10:23   0:00 grep --color=auto ftp
</code></pre></div><ul><li>kill -9 25162杀掉进程，重启xampp</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[root@localhost logs]# /opt/lampp/lampp restart
Restarting XAMPP for Linux 7.0.13-0...
XAMPP: Stopping Apache...not running.
XAMPP: Stopping MySQL...ok.
XAMPP: Stopping ProFTPD...ok.
XAMPP: Starting Apache...ok.
XAMPP: Starting MySQL...ok.
XAMPP: Starting ProFTPD...ok.
</code></pre></div><ul><li>成功</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/server/bbr.html" class="prev">
        bbr加速
      </a></span> <span class="next"><a href="/server/redis.html">
        redis安装与使用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c6b1cc19.js" defer></script><script src="/assets/js/2.6601f5ed.js" defer></script><script src="/assets/js/22.449d3446.js" defer></script>
  </body>
</html>
